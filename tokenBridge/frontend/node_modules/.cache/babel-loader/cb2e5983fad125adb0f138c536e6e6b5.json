{"ast":null,"code":"const Readable = require('readable-stream').Readable;\nconst TrieNode = require('./trieNode');\nconst util = require('util');\nmodule.exports = TrieReadStream;\nfunction TrieReadStream(trie) {\n  this.trie = trie;\n  this.next = null;\n  Readable.call(this, {\n    objectMode: true\n  });\n}\nutil.inherits(TrieReadStream, Readable);\nTrieReadStream.prototype._read = function () {\n  var self = this;\n  if (!self._started) {\n    self._started = true;\n    self.trie._findValueNodes(function (nodeRef, node, key, next) {\n      self.push({\n        key: TrieNode.nibblesToBuffer(key),\n        value: node.value\n      });\n      next();\n    }, function () {\n      // close stream\n      self.push(null);\n    });\n  }\n};","map":{"version":3,"names":["Readable","require","TrieNode","util","module","exports","TrieReadStream","trie","next","call","objectMode","inherits","prototype","_read","self","_started","_findValueNodes","nodeRef","node","key","push","nibblesToBuffer","value"],"sources":["/home/tiptape/relearningculture/zkevm/frontend/node_modules/merkle-patricia-tree/readStream.js"],"sourcesContent":["const Readable = require('readable-stream').Readable\nconst TrieNode = require('./trieNode')\nconst util = require('util')\n\nmodule.exports = TrieReadStream\n\nfunction TrieReadStream (trie) {\n  this.trie = trie\n  this.next = null\n  Readable.call(this, {\n    objectMode: true\n  })\n}\n\nutil.inherits(TrieReadStream, Readable)\n\nTrieReadStream.prototype._read = function () {\n  var self = this\n  if (!self._started) {\n    self._started = true\n    self.trie._findValueNodes(function (nodeRef, node, key, next) {\n      self.push({\n        key: TrieNode.nibblesToBuffer(key),\n        value: node.value\n      })\n      next()\n    }, function () {\n      // close stream\n      self.push(null)\n    })\n  }\n}\n"],"mappings":"AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,iBAAiB,CAAC,CAACD,QAAQ;AACpD,MAAME,QAAQ,GAAGD,OAAO,CAAC,YAAY,CAAC;AACtC,MAAME,IAAI,GAAGF,OAAO,CAAC,MAAM,CAAC;AAE5BG,MAAM,CAACC,OAAO,GAAGC,cAAc;AAE/B,SAASA,cAAc,CAAEC,IAAI,EAAE;EAC7B,IAAI,CAACA,IAAI,GAAGA,IAAI;EAChB,IAAI,CAACC,IAAI,GAAG,IAAI;EAChBR,QAAQ,CAACS,IAAI,CAAC,IAAI,EAAE;IAClBC,UAAU,EAAE;EACd,CAAC,CAAC;AACJ;AAEAP,IAAI,CAACQ,QAAQ,CAACL,cAAc,EAAEN,QAAQ,CAAC;AAEvCM,cAAc,CAACM,SAAS,CAACC,KAAK,GAAG,YAAY;EAC3C,IAAIC,IAAI,GAAG,IAAI;EACf,IAAI,CAACA,IAAI,CAACC,QAAQ,EAAE;IAClBD,IAAI,CAACC,QAAQ,GAAG,IAAI;IACpBD,IAAI,CAACP,IAAI,CAACS,eAAe,CAAC,UAAUC,OAAO,EAAEC,IAAI,EAAEC,GAAG,EAAEX,IAAI,EAAE;MAC5DM,IAAI,CAACM,IAAI,CAAC;QACRD,GAAG,EAAEjB,QAAQ,CAACmB,eAAe,CAACF,GAAG,CAAC;QAClCG,KAAK,EAAEJ,IAAI,CAACI;MACd,CAAC,CAAC;MACFd,IAAI,EAAE;IACR,CAAC,EAAE,YAAY;MACb;MACAM,IAAI,CAACM,IAAI,CAAC,IAAI,CAAC;IACjB,CAAC,CAAC;EACJ;AACF,CAAC"},"metadata":{},"sourceType":"script"}