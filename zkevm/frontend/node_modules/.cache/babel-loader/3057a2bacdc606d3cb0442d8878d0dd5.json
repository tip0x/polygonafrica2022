{"ast":null,"code":"/* Copyright (c) 2017 Rod Vagg, MIT License */\n\nfunction AbstractChainedBatch(db) {\n  this._db = db;\n  this._operations = [];\n  this._written = false;\n}\nAbstractChainedBatch.prototype._serializeKey = function (key) {\n  return this._db._serializeKey(key);\n};\nAbstractChainedBatch.prototype._serializeValue = function (value) {\n  return this._db._serializeValue(value);\n};\nAbstractChainedBatch.prototype._checkWritten = function () {\n  if (this._written) throw new Error('write() already called on this batch');\n};\nAbstractChainedBatch.prototype.put = function (key, value) {\n  this._checkWritten();\n  var err = this._db._checkKey(key, 'key', this._db._isBuffer);\n  if (err) throw err;\n  key = this._serializeKey(key);\n  value = this._serializeValue(value);\n  if (typeof this._put == 'function') this._put(key, value);else this._operations.push({\n    type: 'put',\n    key: key,\n    value: value\n  });\n  return this;\n};\nAbstractChainedBatch.prototype.del = function (key) {\n  this._checkWritten();\n  var err = this._db._checkKey(key, 'key', this._db._isBuffer);\n  if (err) throw err;\n  key = this._serializeKey(key);\n  if (typeof this._del == 'function') this._del(key);else this._operations.push({\n    type: 'del',\n    key: key\n  });\n  return this;\n};\nAbstractChainedBatch.prototype.clear = function () {\n  this._checkWritten();\n  this._operations = [];\n  if (typeof this._clear == 'function') this._clear();\n  return this;\n};\nAbstractChainedBatch.prototype.write = function (options, callback) {\n  this._checkWritten();\n  if (typeof options == 'function') callback = options;\n  if (typeof callback != 'function') throw new Error('write() requires a callback argument');\n  if (typeof options != 'object') options = {};\n  this._written = true;\n  if (typeof this._write == 'function') return this._write(callback);\n  if (typeof this._db._batch == 'function') return this._db._batch(this._operations, options, callback);\n  process.nextTick(callback);\n};\nmodule.exports = AbstractChainedBatch;","map":{"version":3,"names":["AbstractChainedBatch","db","_db","_operations","_written","prototype","_serializeKey","key","_serializeValue","value","_checkWritten","Error","put","err","_checkKey","_isBuffer","_put","push","type","del","_del","clear","_clear","write","options","callback","_write","_batch","process","nextTick","module","exports"],"sources":["/home/tiptape/relearningculture/zkevm/frontend/node_modules/deferred-leveldown/node_modules/abstract-leveldown/abstract-chained-batch.js"],"sourcesContent":["/* Copyright (c) 2017 Rod Vagg, MIT License */\n\nfunction AbstractChainedBatch (db) {\n  this._db         = db\n  this._operations = []\n  this._written    = false\n}\n\nAbstractChainedBatch.prototype._serializeKey = function (key) {\n  return this._db._serializeKey(key)\n}\n\nAbstractChainedBatch.prototype._serializeValue = function (value) {\n  return this._db._serializeValue(value)\n}\n\nAbstractChainedBatch.prototype._checkWritten = function () {\n  if (this._written)\n    throw new Error('write() already called on this batch')\n}\n\nAbstractChainedBatch.prototype.put = function (key, value) {\n  this._checkWritten()\n\n  var err = this._db._checkKey(key, 'key', this._db._isBuffer)\n  if (err)\n    throw err\n\n  key = this._serializeKey(key)\n  value = this._serializeValue(value)\n\n  if (typeof this._put == 'function' )\n    this._put(key, value)\n  else\n    this._operations.push({ type: 'put', key: key, value: value })\n\n  return this\n}\n\nAbstractChainedBatch.prototype.del = function (key) {\n  this._checkWritten()\n\n  var err = this._db._checkKey(key, 'key', this._db._isBuffer)\n  if (err) throw err\n\n  key = this._serializeKey(key)\n\n  if (typeof this._del == 'function' )\n    this._del(key)\n  else\n    this._operations.push({ type: 'del', key: key })\n\n  return this\n}\n\nAbstractChainedBatch.prototype.clear = function () {\n  this._checkWritten()\n\n  this._operations = []\n\n  if (typeof this._clear == 'function' )\n    this._clear()\n\n  return this\n}\n\nAbstractChainedBatch.prototype.write = function (options, callback) {\n  this._checkWritten()\n\n  if (typeof options == 'function')\n    callback = options\n  if (typeof callback != 'function')\n    throw new Error('write() requires a callback argument')\n  if (typeof options != 'object')\n    options = {}\n\n  this._written = true\n\n  if (typeof this._write == 'function' )\n    return this._write(callback)\n\n  if (typeof this._db._batch == 'function')\n    return this._db._batch(this._operations, options, callback)\n\n  process.nextTick(callback)\n}\n\nmodule.exports = AbstractChainedBatch\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}