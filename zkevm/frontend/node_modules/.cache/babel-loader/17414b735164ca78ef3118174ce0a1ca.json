{"ast":null,"code":"var inherits = require('inherits');\nvar Readable = require('readable-stream').Readable;\nvar extend = require('xtend');\nvar EncodingError = require('level-errors').EncodingError;\nmodule.exports = ReadStream;\ninherits(ReadStream, Readable);\nfunction ReadStream(iterator, options) {\n  if (!(this instanceof ReadStream)) return new ReadStream(iterator, options);\n  Readable.call(this, extend(options, {\n    objectMode: true\n  }));\n  this._iterator = iterator;\n  this._destroyed = false;\n  this._decoder = null;\n  if (options && options.decoder) this._decoder = options.decoder;\n  this.on('end', this._cleanup.bind(this));\n}\nReadStream.prototype._read = function () {\n  var self = this;\n  if (this._destroyed) return;\n  this._iterator.next(function (err, key, value) {\n    if (self._destroyed) return;\n    if (err) return self.emit('error', err);\n    if (key === undefined && value === undefined) {\n      self.push(null);\n    } else {\n      if (!self._decoder) return self.push({\n        key: key,\n        value: value\n      });\n      try {\n        var value = self._decoder(key, value);\n      } catch (err) {\n        self.emit('error', new EncodingError(err));\n        self.push(null);\n        return;\n      }\n      self.push(value);\n    }\n  });\n};\nReadStream.prototype.destroy = ReadStream.prototype._cleanup = function () {\n  var self = this;\n  if (this._destroyed) return;\n  this._destroyed = true;\n  this._iterator.end(function (err) {\n    if (err) return self.emit('error', err);\n    self.emit('close');\n  });\n};","map":{"version":3,"names":["inherits","require","Readable","extend","EncodingError","module","exports","ReadStream","iterator","options","call","objectMode","_iterator","_destroyed","_decoder","decoder","on","_cleanup","bind","prototype","_read","self","next","err","key","value","emit","undefined","push","destroy","end"],"sources":["/home/tiptape/relearningculture/zkevm/frontend/node_modules/level-iterator-stream/index.js"],"sourcesContent":["var inherits = require('inherits');\nvar Readable = require('readable-stream').Readable;\nvar extend = require('xtend');\nvar EncodingError = require('level-errors').EncodingError;\n\nmodule.exports = ReadStream;\ninherits(ReadStream, Readable);\n\nfunction ReadStream(iterator, options){\n  if (!(this instanceof ReadStream)) return new ReadStream(iterator, options);\n  Readable.call(this, extend(options, {\n    objectMode: true\n  }));\n  this._iterator = iterator;\n  this._destroyed = false;\n  this._decoder = null;\n  if (options && options.decoder) this._decoder = options.decoder;\n  this.on('end', this._cleanup.bind(this));\n}\n\nReadStream.prototype._read = function(){\n  var self = this;\n  if (this._destroyed) return;\n\n  this._iterator.next(function(err, key, value){\n    if (self._destroyed) return;\n    if (err) return self.emit('error', err);\n    if (key === undefined && value === undefined) {\n      self.push(null);\n    } else {\n      if (!self._decoder) return self.push({ key: key, value: value });\n\n      try {\n        var value = self._decoder(key, value);\n      } catch (err) {\n        self.emit('error', new EncodingError(err));\n        self.push(null);\n        return;\n      }\n      self.push(value);\n    }\n  });\n};\n\nReadStream.prototype.destroy =\nReadStream.prototype._cleanup = function(){\n  var self = this;\n  if (this._destroyed) return;\n  this._destroyed = true;\n\n  this._iterator.end(function(err){\n    if (err) return self.emit('error', err);\n    self.emit('close');\n  });\n};\n\n"],"mappings":"AAAA,IAAIA,QAAQ,GAAGC,OAAO,CAAC,UAAU,CAAC;AAClC,IAAIC,QAAQ,GAAGD,OAAO,CAAC,iBAAiB,CAAC,CAACC,QAAQ;AAClD,IAAIC,MAAM,GAAGF,OAAO,CAAC,OAAO,CAAC;AAC7B,IAAIG,aAAa,GAAGH,OAAO,CAAC,cAAc,CAAC,CAACG,aAAa;AAEzDC,MAAM,CAACC,OAAO,GAAGC,UAAU;AAC3BP,QAAQ,CAACO,UAAU,EAAEL,QAAQ,CAAC;AAE9B,SAASK,UAAU,CAACC,QAAQ,EAAEC,OAAO,EAAC;EACpC,IAAI,EAAE,IAAI,YAAYF,UAAU,CAAC,EAAE,OAAO,IAAIA,UAAU,CAACC,QAAQ,EAAEC,OAAO,CAAC;EAC3EP,QAAQ,CAACQ,IAAI,CAAC,IAAI,EAAEP,MAAM,CAACM,OAAO,EAAE;IAClCE,UAAU,EAAE;EACd,CAAC,CAAC,CAAC;EACH,IAAI,CAACC,SAAS,GAAGJ,QAAQ;EACzB,IAAI,CAACK,UAAU,GAAG,KAAK;EACvB,IAAI,CAACC,QAAQ,GAAG,IAAI;EACpB,IAAIL,OAAO,IAAIA,OAAO,CAACM,OAAO,EAAE,IAAI,CAACD,QAAQ,GAAGL,OAAO,CAACM,OAAO;EAC/D,IAAI,CAACC,EAAE,CAAC,KAAK,EAAE,IAAI,CAACC,QAAQ,CAACC,IAAI,CAAC,IAAI,CAAC,CAAC;AAC1C;AAEAX,UAAU,CAACY,SAAS,CAACC,KAAK,GAAG,YAAU;EACrC,IAAIC,IAAI,GAAG,IAAI;EACf,IAAI,IAAI,CAACR,UAAU,EAAE;EAErB,IAAI,CAACD,SAAS,CAACU,IAAI,CAAC,UAASC,GAAG,EAAEC,GAAG,EAAEC,KAAK,EAAC;IAC3C,IAAIJ,IAAI,CAACR,UAAU,EAAE;IACrB,IAAIU,GAAG,EAAE,OAAOF,IAAI,CAACK,IAAI,CAAC,OAAO,EAAEH,GAAG,CAAC;IACvC,IAAIC,GAAG,KAAKG,SAAS,IAAIF,KAAK,KAAKE,SAAS,EAAE;MAC5CN,IAAI,CAACO,IAAI,CAAC,IAAI,CAAC;IACjB,CAAC,MAAM;MACL,IAAI,CAACP,IAAI,CAACP,QAAQ,EAAE,OAAOO,IAAI,CAACO,IAAI,CAAC;QAAEJ,GAAG,EAAEA,GAAG;QAAEC,KAAK,EAAEA;MAAM,CAAC,CAAC;MAEhE,IAAI;QACF,IAAIA,KAAK,GAAGJ,IAAI,CAACP,QAAQ,CAACU,GAAG,EAAEC,KAAK,CAAC;MACvC,CAAC,CAAC,OAAOF,GAAG,EAAE;QACZF,IAAI,CAACK,IAAI,CAAC,OAAO,EAAE,IAAItB,aAAa,CAACmB,GAAG,CAAC,CAAC;QAC1CF,IAAI,CAACO,IAAI,CAAC,IAAI,CAAC;QACf;MACF;MACAP,IAAI,CAACO,IAAI,CAACH,KAAK,CAAC;IAClB;EACF,CAAC,CAAC;AACJ,CAAC;AAEDlB,UAAU,CAACY,SAAS,CAACU,OAAO,GAC5BtB,UAAU,CAACY,SAAS,CAACF,QAAQ,GAAG,YAAU;EACxC,IAAII,IAAI,GAAG,IAAI;EACf,IAAI,IAAI,CAACR,UAAU,EAAE;EACrB,IAAI,CAACA,UAAU,GAAG,IAAI;EAEtB,IAAI,CAACD,SAAS,CAACkB,GAAG,CAAC,UAASP,GAAG,EAAC;IAC9B,IAAIA,GAAG,EAAE,OAAOF,IAAI,CAACK,IAAI,CAAC,OAAO,EAAEH,GAAG,CAAC;IACvCF,IAAI,CAACK,IAAI,CAAC,OAAO,CAAC;EACpB,CAAC,CAAC;AACJ,CAAC"},"metadata":{},"sourceType":"script"}